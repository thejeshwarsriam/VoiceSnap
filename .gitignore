# 1. Create .gitignore (if you don't have one)
cat > .gitignore << 'EOF'
# Environment variables
.env
.env.local
.env.*.local
*.env

# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
venv/
env/
ENV/

# OS
.DS_Store
Thumbs.db

# IDE
.vscode/
.idea/
*.swp

# Streamlit
.streamlit/secrets.toml
EOF

# 2. Remove .env if accidentally added
git rm --cached .env  # If you already committed it
git commit -m "Remove .env file"
git push

# 3. Verify nothing sensitive is exposed
git log --all --full-history --pretty=format:"%H" | xargs git grep "DAILY_API_KEY"
# Should return nothing

# 4. If you leaked keys, ROTATE THEM IMMEDIATELY
# - Go to Daily.co dashboard → Delete old key → Create new key